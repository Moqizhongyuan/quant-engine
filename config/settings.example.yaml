# 量化交易平台配置示例
# 复制此文件为 settings.yaml 并修改配置

# 数据库配置
database:
  # SQLite (开发环境)
  url: "sqlite:///data/quant_engine.db"
  # PostgreSQL (生产环境)
  # url: "postgresql://user:password@localhost:5432/quant_engine"
  echo: false

# 日志配置
logging:
  level: "INFO"
  rotation: "10 MB"
  retention: "30 days"
  path: "logs/quant_engine.log"

# 数据源配置
data_provider:
  joinquant:
    enabled: true
    # 策略结果页面 URL
    strategy_url: "https://www.joinquant.com/view/community/detail/xxx"
    # 使用环境变量存储敏感信息
    username: "${JOINQUANT_USERNAME}"
    password: "${JOINQUANT_PASSWORD}"
    timeout: 30
    max_retries: 3

# 交易接口配置
broker:
  miniqmt:
    enabled: true
    # QMT 安装路径
    path: "C:/国金证券QMT/userdata_mini"
    account_id: "${QMT_ACCOUNT_ID}"
    # 开发时使用模拟模式
    simulation: true
    timeout: 10

# 风控配置
risk:
  enabled: true
  # 单只股票最大持仓比例 20%
  max_position_ratio: 0.2
  # 单日最大亏损比例 5%
  max_daily_loss_ratio: 0.05
  # 止损比例 8%
  stop_loss_ratio: 0.08
  # 止盈比例 20%
  take_profit_ratio: 0.20
  # 最大持仓股票数量
  max_holdings: 10
  # 单笔最大交易金额
  max_order_amount: 100000

# 调度配置
scheduler:
  trading_hours:
    morning_start: "09:30"
    morning_end: "11:30"
    afternoon_start: "13:00"
    afternoon_end: "15:00"
  signal_fetch_time: "09:00"
  order_execute_time: "09:35"

# 回测配置
backtest:
  joinquant:
    enabled: false
    token: "${JOINQUANT_TOKEN}"
